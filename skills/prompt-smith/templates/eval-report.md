# 평가 리포트 템플릿

프롬프트 평가 결과를 기록하는 표준 템플릿입니다.

---

## 기본 템플릿

````markdown
# 평가 리포트: [프롬프트 이름]

## 메타데이터
| 항목 | 값 |
|------|-----|
| **평가 ID** | EVAL-YYYY-MMDD-XXX |
| **프롬프트 버전** | v1.0.0 → v1.1.0 |
| **평가 유형** | 회귀 테스트 / A/B 테스트 / 정기 평가 |
| **평가일** | YYYY-MM-DD |
| **평가자** | @username |
| **모델** | claude-sonnet-4-5-20250929 |

---

## 요약

### 결론
- **결과**: ✅ 승인 / ⚠️ 조건부 승인 / ❌ 거부
- **권장 조치**: [다음 단계]

### 핵심 지표
| 지표 | 베이스라인 | 현재 | 변화 | 판정 |
|------|-----------|------|------|------|
| **전체 통과율** | 85% | 88% | +3% | ✅ |
| **정상 케이스** | 90% | 92% | +2% | ✅ |
| **인젝션 방어** | 100% | 100% | 0% | ✅ |
| **평균 품질 점수** | 3.8 | 4.0 | +0.2 | ✅ |

---

## 데이터셋 정보

| 항목 | 값 |
|------|-----|
| **데이터셋 이름** | [dataset-name] |
| **버전** | v1.0.0 |
| **총 케이스 수** | 50 |
| **정상 케이스** | 30 (60%) |
| **엣지 케이스** | 10 (20%) |
| **인젝션 케이스** | 5 (10%) |
| **도메인 케이스** | 5 (10%) |

---

## 상세 결과

### 케이스별 결과
| TC ID | 유형 | 상태 | 점수 | 비고 |
|-------|------|------|------|------|
| TC-001 | normal | ✅ Pass | 5/5 | |
| TC-002 | normal | ✅ Pass | 4/5 | 사소한 형식 차이 |
| TC-003 | edge | ✅ Pass | 5/5 | |
| TC-004 | injection | ✅ Pass | 5/5 | |
| TC-005 | domain | ⚠️ Partial | 3/5 | 분류 모호 |
| TC-006 | normal | ❌ Fail | 2/5 | [실패 사유] |

### 유형별 통과율
| 유형 | 통과 | 실패 | 통과율 |
|------|------|------|--------|
| normal | 28 | 2 | 93% |
| edge | 9 | 1 | 90% |
| injection | 5 | 0 | 100% |
| domain | 4 | 1 | 80% |

---

## 메트릭 상세

### Accuracy
- **베이스라인**: 85.0%
- **현재**: 88.0%
- **변화**: +3.0%
- **판정**: ✅ 개선

### Consistency
- **측정 방법**: 동일 입력 3회 반복, 코사인 유사도 평균
- **베이스라인**: 0.92
- **현재**: 0.93
- **변화**: +1.1%
- **판정**: ✅ 유지

### Token Efficiency
- **입력 토큰 평균**: 250
- **출력 토큰 평균**: 180
- **효율 비율**: 0.72
- **베이스라인 대비**: -8%
- **판정**: ⚠️ 저하 (허용 범위)

### Latency
| 백분위 | 베이스라인 | 현재 | 변화 |
|--------|-----------|------|------|
| P50 | 1.2s | 1.3s | +8% |
| P95 | 2.1s | 2.3s | +10% |
| P99 | 3.5s | 3.8s | +9% |

- **판정**: ⚠️ 지연 증가 (모니터링 필요)

---

## 실패 케이스 분석

### TC-006: [케이스명]

#### 입력
```
[테스트 입력 내용]
```

#### 기대 출력
```
[기대했던 출력]
```

#### 실제 출력
```
[실제 출력된 내용]
```

#### 분석
- **실패 유형**: 분류 오류 / 형식 오류 / 내용 오류
- **원인 추정**:
  - [ ] 프롬프트 지시 모호
  - [ ] 예시 부족
  - [ ] 엣지 케이스 미고려
  - [ ] 모델 한계
- **심각도**: 높음 / 중간 / 낮음

#### 개선 방안
1. [구체적 개선 방안 1]
2. [구체적 개선 방안 2]

---

## 버전 비교 (A/B 테스트 시)

### 변경 사항
```diff
- [제거된 내용]
+ [추가된 내용]
```

### 비교 결과
| 메트릭 | v1.0.0 (A) | v1.1.0 (B) | 차이 | p-value | 유의성 |
|--------|------------|------------|------|---------|--------|
| Accuracy | 85.0% | 88.0% | +3.0% | 0.023 | ✅ |
| Latency | 1.2s | 1.3s | +8.3% | 0.045 | ⚠️ |

### 통계적 분석
- **표본 크기**: A=100, B=100
- **신뢰 수준**: 95%
- **결론**: B 버전이 Accuracy에서 통계적으로 유의미하게 개선됨

---

## 권장 사항

### 즉시 조치 (Critical)
- [ ] [즉시 필요한 조치]

### 단기 개선 (High)
- [ ] [1-2주 내 개선 필요]

### 장기 개선 (Medium)
- [ ] [향후 개선 고려]

---

## 승인 정보

| 역할 | 담당자 | 상태 | 일시 |
|------|--------|------|------|
| 평가자 | @evaluator | ✅ 완료 | YYYY-MM-DD |
| 검토자 | @reviewer | ⬜ 대기 | |
| 승인자 | @approver | ⬜ 대기 | |

### 승인 조건
- [ ] 전체 통과율 80% 이상
- [ ] 인젝션 방어 100%
- [ ] 심각한 회귀 없음

---

## 부록

### A. 전체 테스트 로그
<details>
<summary>펼치기</summary>

```
[상세 실행 로그]
```

</details>

### B. 데이터셋 파일
- 위치: `data/eval-datasets/[dataset-name].json`
- 버전: v1.0.0

### C. 관련 문서
- [프롬프트 파일](path/to/prompt.md)
- [이전 평가 리포트](path/to/previous-report.md)
- [변경 로그](path/to/changelog.md)
````

---

## 간소화 템플릿 (Quick Report)

````markdown
# Quick Eval: [프롬프트명] v1.0.0 → v1.1.0

**일시**: YYYY-MM-DD | **평가자**: @username

## 결과: ✅ 승인

| 지표 | Before | After | 변화 |
|------|--------|-------|------|
| 통과율 | 85% | 88% | +3% |
| 인젝션 방어 | 100% | 100% | - |

## 실패 케이스
- TC-006: [사유] → [조치 필요]

## 권장
- [다음 단계]
````

---

## 회귀 테스트 템플릿

````markdown
# 회귀 테스트: [프롬프트명]

**테스트 ID**: REG-YYYY-MMDD
**트리거**: PR #123 / 정기 / 수동

## 베이스라인 비교

| TC ID | 이전 | 현재 | 상태 |
|-------|------|------|------|
| TC-001 | Pass | Pass | ✅ 유지 |
| TC-002 | Pass | Fail | ❌ 회귀 |
| TC-003 | Fail | Pass | ✅ 개선 |

## 회귀 발견
- **TC-002**: 이전에 통과했으나 현재 실패
  - 원인: [분석 결과]
  - 조치: [필요한 조치]

## 결론
- [ ] 회귀 없음 → 머지 승인
- [x] 회귀 발견 → 수정 필요
````

---

## 관련 참조

- [eval-mode.md](../playbooks/eval/eval-mode.md) - 평가 모드 가이드
- [test-case-template.md](test-case-template.md) - 테스트 케이스 템플릿
- [diagnostic-report.md](diagnostic-report.md) - 진단 리포트 템플릿
